# Billing Plans & Feature Matrix
# Production-ready subscription tiers

version: "1.0"
updated_at: "2025-10-31"

plans:
  free:
    name: "Free"
    display_name: "Community"
    price_monthly: 0
    price_annual: 0
    description: "For individuals and small teams getting started"
    
    features:
      agents: 5
      workflows_per_month: 100
      api_calls_per_month: 10000
      users: 2
      retention_days: 7
      support_tier: "community"
      sla_uptime: 99.0
      
    quotas:
      max_agents: 5
      max_workflows: 10
      max_api_calls_per_day: 500
      max_context_bus_messages_per_day: 1000
      max_storage_mb: 100
      max_audit_logs_days: 7
      
    features_enabled:
      trust_scoring: true
      basic_policies: true
      webhook_adapters: false
      custom_opa_policies: false
      ai_ops: false
      advanced_analytics: false
      sso: false
      custom_branding: false
      priority_support: false
      
    rate_limits:
      api_requests_per_second: 10
      api_burst: 50
      context_bus_messages_per_second: 10
      
  pro:
    name: "Pro"
    display_name: "Professional"
    price_monthly: 99
    price_annual: 990
    stripe_price_id_monthly: "price_pro_monthly"
    stripe_price_id_annual: "price_pro_annual"
    description: "For growing teams and production workloads"
    
    features:
      agents: 50
      workflows_per_month: 10000
      api_calls_per_month: 1000000
      users: 10
      retention_days: 30
      support_tier: "email"
      sla_uptime: 99.5
      
    quotas:
      max_agents: 50
      max_workflows: 100
      max_api_calls_per_day: 50000
      max_context_bus_messages_per_day: 100000
      max_storage_mb: 10000
      max_audit_logs_days: 30
      
    features_enabled:
      trust_scoring: true
      basic_policies: true
      webhook_adapters: true
      custom_opa_policies: true
      ai_ops: true
      advanced_analytics: true
      sso: false
      custom_branding: false
      priority_support: false
      
    rate_limits:
      api_requests_per_second: 100
      api_burst: 500
      context_bus_messages_per_second: 100
      
  enterprise:
    name: "Enterprise"
    display_name: "Enterprise"
    price_monthly: null  # Custom pricing
    price_annual: null
    description: "For large organizations with custom requirements"
    contact_sales: true
    
    features:
      agents: "unlimited"
      workflows_per_month: "unlimited"
      api_calls_per_month: "unlimited"
      users: "unlimited"
      retention_days: 90
      support_tier: "dedicated"
      sla_uptime: 99.9
      
    quotas:
      max_agents: -1  # Unlimited
      max_workflows: -1
      max_api_calls_per_day: -1
      max_context_bus_messages_per_day: -1
      max_storage_mb: -1
      max_audit_logs_days: 90
      
    features_enabled:
      trust_scoring: true
      basic_policies: true
      webhook_adapters: true
      custom_opa_policies: true
      ai_ops: true
      advanced_analytics: true
      sso: true
      custom_branding: true
      priority_support: true
      dedicated_instance: true
      custom_sla: true
      white_label: true
      
    rate_limits:
      api_requests_per_second: 1000
      api_burst: 5000
      context_bus_messages_per_second: 1000
      
  oem:
    name: "OEM"
    display_name: "OEM Partner"
    price_monthly: null
    price_annual: null
    description: "White-label solution for resellers"
    contact_sales: true
    
    features:
      agents: "unlimited"
      workflows_per_month: "unlimited"
      api_calls_per_month: "unlimited"
      users: "unlimited"
      retention_days: 365
      support_tier: "partner"
      sla_uptime: 99.99
      
    quotas:
      max_agents: -1
      max_workflows: -1
      max_api_calls_per_day: -1
      max_context_bus_messages_per_day: -1
      max_storage_mb: -1
      max_audit_logs_days: 365
      
    features_enabled:
      trust_scoring: true
      basic_policies: true
      webhook_adapters: true
      custom_opa_policies: true
      ai_ops: true
      advanced_analytics: true
      sso: true
      custom_branding: true
      priority_support: true
      dedicated_instance: true
      custom_sla: true
      white_label: true
      multi_tenant_admin: true
      revenue_sharing: true
      
    rate_limits:
      api_requests_per_second: 10000
      api_burst: 50000
      context_bus_messages_per_second: 10000

# Feature comparison matrix
feature_matrix:
  - feature: "Registered Agents"
    free: "5"
    pro: "50"
    enterprise: "Unlimited"
    oem: "Unlimited"
    
  - feature: "Trust Scoring & KPIs"
    free: "✓"
    pro: "✓"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "API Calls/Month"
    free: "10K"
    pro: "1M"
    enterprise: "Unlimited"
    oem: "Unlimited"
    
  - feature: "Webhook Adapters"
    free: "—"
    pro: "✓"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "Custom OPA Policies"
    free: "—"
    pro: "✓"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "AI-Ops Automation"
    free: "—"
    pro: "✓"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "Data Retention"
    free: "7 days"
    pro: "30 days"
    enterprise: "90 days"
    oem: "365 days"
    
  - feature: "SSO (SAML/OIDC)"
    free: "—"
    pro: "—"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "Custom Branding"
    free: "—"
    pro: "—"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "Dedicated Instance"
    free: "—"
    pro: "—"
    enterprise: "✓"
    oem: "✓"
    
  - feature: "SLA Guarantee"
    free: "99%"
    pro: "99.5%"
    enterprise: "99.9%"
    oem: "99.99%"
    
  - feature: "Support"
    free: "Community"
    pro: "Email"
    enterprise: "Dedicated"
    oem: "Partner Portal"

# Usage-based add-ons (for Pro and Enterprise)
addons:
  extra_agents:
    name: "Additional Agents"
    unit_price: 2.00
    unit: "agent/month"
    available_for: ["pro", "enterprise"]
    
  extra_api_calls:
    name: "Additional API Calls"
    unit_price: 0.10
    unit: "1000 calls"
    available_for: ["pro", "enterprise"]
    
  extended_retention:
    name: "Extended Data Retention"
    unit_price: 50.00
    unit: "30 additional days"
    available_for: ["pro", "enterprise"]
    
  priority_support:
    name: "Priority Support Upgrade"
    price_monthly: 500
    available_for: ["pro"]

# Trial configuration
trial:
  duration_days: 14
  plan: "pro"
  requires_payment_method: false
  auto_downgrade_to: "free"
  features_enabled: "pro"
