# AI-Agent Mesh Environment Configuration
# Copy this file to .env and update with your values

# ============================================================================
# GENERAL
# ============================================================================
NODE_ENV=production
LOG_LEVEL=info

# ============================================================================
# SERVICE PORTS
# ============================================================================
API_PORT=3000
REGISTRY_PORT=3001
TELEMETRY_PORT=3002
POLICY_PORT=3003
FEDERATION_PORT=3004
UI_PORT=3005

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL
DATABASE_URL=postgresql://mesh:mesh_password@localhost:5432/mesh_registry
POSTGRES_USER=mesh
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=mesh_registry

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ============================================================================
# EXTERNAL SERVICE URLs
# ============================================================================
# Service mesh URLs (for docker-compose)
REGISTRY_URL=http://localhost:3001
TELEMETRY_URL=http://localhost:3002
POLICY_URL=http://localhost:3003
FEDERATION_URL=http://localhost:3004

# ============================================================================
# AI MODEL API KEYS
# ============================================================================
# OpenAI
OPENAI_API_KEY=sk-...
OPENAI_ORG_ID=

# Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# Azure OpenAI
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=

# Google Vertex AI
GOOGLE_CLOUD_PROJECT=
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# AWS Bedrock
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# HuggingFace
HUGGINGFACE_API_KEY=

# ============================================================================
# VECTOR DATABASE (for Context Federation)
# ============================================================================
VECTOR_DB_URL=http://localhost:8000
VECTOR_DB_TYPE=faiss  # faiss | pinecone | weaviate | milvus

# Pinecone
PINECONE_API_KEY=
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=ai-mesh-embeddings

# Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=

# ============================================================================
# OBSERVABILITY
# ============================================================================
# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=ai-agent-mesh

# Prometheus
PROMETHEUS_URL=http://localhost:9090

# Elasticsearch
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# Grafana
GRAFANA_URL=http://localhost:3100
GRAFANA_PASSWORD=admin

# ============================================================================
# SECURITY & COMPLIANCE
# ============================================================================
# JWT Configuration
JWT_SECRET=change_me_to_a_strong_random_string
JWT_EXPIRY=24h
JWT_ISSUER=ai-agent-mesh
JWT_AUDIENCE=ai-mesh-api

# Open Policy Agent
OPA_URL=http://localhost:8181

# Encryption Keys
ENCRYPTION_KEY=32_byte_base64_encoded_key_here
ENCRYPTION_ALGORITHM=aes-256-gcm

# AWS KMS (for encryption at rest)
AWS_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/abc123

# ============================================================================
# AUTHENTICATION
# ============================================================================
# OAuth / OIDC
AUTH_PROVIDER=okta  # okta | auth0 | azure-ad | google
AUTH_ISSUER=https://your-domain.okta.com
AUTH_CLIENT_ID=
AUTH_CLIENT_SECRET=
AUTH_CALLBACK_URL=http://localhost:3000/auth/callback

# Okta
OKTA_DOMAIN=your-domain.okta.com
OKTA_CLIENT_ID=
OKTA_CLIENT_SECRET=

# Auth0
AUTH0_DOMAIN=your-domain.auth0.com
AUTH0_CLIENT_ID=
AUTH0_CLIENT_SECRET=

# ============================================================================
# ALERTING & NOTIFICATIONS
# ============================================================================
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#ai-mesh-alerts

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=AI Mesh <noreply@yourdomain.com>

# PagerDuty
PAGERDUTY_API_KEY=
PAGERDUTY_SERVICE_ID=

# Datadog
DATADOG_API_KEY=
DATADOG_APP_KEY=
DATADOG_SITE=datadoghq.com

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW=60000  # 1 minute in ms
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# CORS
# ============================================================================
CORS_ORIGIN=http://localhost:3005
CORS_CREDENTIALS=true

# ============================================================================
# CLOUD PROVIDER CONFIGURATION
# ============================================================================
# AWS
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-mesh-artifacts

# Azure
AZURE_SUBSCRIPTION_ID=
AZURE_RESOURCE_GROUP=
AZURE_STORAGE_ACCOUNT=

# Google Cloud
GCP_PROJECT_ID=
GCP_BUCKET_NAME=

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_GRAPHQL=true
ENABLE_DRIFT_MONITORING=true
ENABLE_AUTO_REMEDIATION=false
ENABLE_CARBON_TRACKING=true
ENABLE_COMPLIANCE_REPORTING=true

# ============================================================================
# DRIFT MONITORING
# ============================================================================
DRIFT_DETECTION_ENABLED=true
DRIFT_THRESHOLD=0.15
DRIFT_SAMPLING_RATE=0.10
BASELINE_REFRESH_DAYS=30

# ============================================================================
# SUSTAINABILITY
# ============================================================================
CARBON_TRACKING_ENABLED=true
CARBON_BUDGET_KG_PER_MONTH=5000
GREEN_ROUTING_ENABLED=true

# ============================================================================
# DEPLOYMENT
# ============================================================================
DEPLOYMENT_ENVIRONMENT=development  # development | staging | production
DEPLOYMENT_REGION=us-east-1
REPLICA_COUNT=1

# ============================================================================
# ADVANCED
# ============================================================================
# Circuit Breaker
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000

# Cache TTL (seconds)
CACHE_TTL_AGENTS=300
CACHE_TTL_POLICIES=600
CACHE_TTL_EMBEDDINGS=86400

# Log Retention (days)
LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years

# ============================================================================
# MAINTENANCE
# ============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="AI-Agent Mesh is currently undergoing maintenance"
