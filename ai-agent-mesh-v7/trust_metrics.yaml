# Trust Metrics Framework
# Quantifiable KPIs for AI Governance, Risk Avoidance, and Business Impact

version: "1.0.0"
last_updated: "2025-10-30"

# ==============================================================================
# PRIMARY TRUST SCORE (TS) - Core Metric
# ==============================================================================

trust_score:
  description: "Composite metric quantifying AI system trustworthiness in real-time"
  formula: "(policy_adherence × agent_reputation × response_integrity) / risk_exposure"
  range: [0, 100]
  target_sla: 95  # 95% Trust Score uptime
  calculation_frequency: "30 seconds"
  
  components:
    policy_adherence:
      description: "Percentage of agent actions compliant with active policies"
      formula: "compliant_actions / total_actions × 100"
      weight: 0.35
      target: 98.5
      measurement: "rolling 15-minute window"
      
    agent_reputation:
      description: "Historical reliability score based on past behavior"
      formula: "(successful_tasks + trust_endorsements - violations) / total_interactions"
      weight: 0.30
      range: [0, 1]
      decay_factor: 0.05  # 5% weekly decay for recency weighting
      minimum_interactions: 100  # bootstrap with 0.75 default
      
    response_integrity:
      description: "Output validation score (hallucination detection, factuality)"
      formula: "validated_outputs / total_outputs × 100"
      weight: 0.25
      target: 99.2
      validation_methods:
        - factual_grounding_check
        - source_attribution_verification
        - consistency_analysis
        - output_schema_validation
        
    risk_exposure:
      description: "Contextual threat level based on data sensitivity and blast radius"
      formula: "(data_sensitivity × blast_radius × regulatory_risk) / 100"
      weight: 0.10
      range: [0.1, 10]  # prevents division by zero, caps extreme risk
      factors:
        data_sensitivity: [1, 2, 3, 5]  # public, internal, confidential, restricted
        blast_radius: [1, 2, 4, 8]      # single-user, team, org, external
        regulatory_risk: [1, 1.5, 3, 5] # low, medium, high, critical

# ==============================================================================
# RISK AVOIDANCE VALUE (RA$) - Dollar-Quantified Impact
# ==============================================================================

risk_avoidance_value:
  description: "Monetary value of incidents prevented through autonomous governance"
  formula: "incident_cost_avoided / expected_loss_baseline"
  currency: "USD"
  calculation_period: "monthly"
  
  incident_cost_models:
    policy_violation:
      average_cost: 15000
      calculation: "incident_severity × remediation_hours × labor_rate + penalty_risk"
      severity_multipliers:
        low: 0.2
        medium: 1.0
        high: 3.0
        critical: 10.0
        
    data_breach:
      average_cost: 4240000  # IBM 2024 Cost of Data Breach Report
      calculation: "records_exposed × per_record_cost + notification_cost + legal_cost"
      per_record_cost: 165
      
    compliance_failure:
      average_cost: 500000
      calculation: "fine_amount + audit_cost + remediation_cost"
      regulatory_fines:
        gdpr: [20000000, "4% annual revenue"]  # higher of the two
        ccpa: 7500  # per violation
        hipaa: [50000, 1500000]  # per violation, annual cap
        sox: [5000000, 25000000]  # criminal penalties
        
    service_disruption:
      average_cost: 5600  # per minute of downtime
      calculation: "downtime_minutes × (revenue_per_minute + productivity_loss)"
      
  baseline_assumptions:
    expected_incidents_per_month: 8  # without Mesh OS
    expected_violations_per_month: 45
    expected_drift_events_per_month: 120
    manual_resolution_rate: 0.05  # 5% autonomous without Mesh OS
    
  mesh_os_impact:
    autonomous_resolution_rate: 0.80  # 80% self-healing
    violation_reduction: 0.65  # 65% fewer violations
    false_positive_rate: 0.02  # < 2% false alarms
    
  monthly_ra_calculation:
    formula: |
      RA$ = (
        (expected_incidents × incident_cost) - 
        (actual_incidents × incident_cost)
      ) + (
        (expected_violations × violation_cost) - 
        (actual_violations × violation_cost)
      )

# ==============================================================================
# COST SAVINGS METRICS
# ==============================================================================

cost_savings:
  description: "Quantified infrastructure and operational cost reductions"
  
  compute_optimization:
    description: "AI workload cost reduction through intelligent routing"
    target: 0.40  # 40% average reduction
    calculation: "baseline_compute_cost - optimized_compute_cost"
    optimization_strategies:
      - spot_instance_utilization
      - regional_cost_arbitrage
      - carbon_aware_scheduling
      - batch_optimization
      - model_right_sizing
      
  operational_efficiency:
    description: "Labor cost savings from automation"
    
    audit_preparation:
      manual_hours_per_audit: 40
      audits_per_year: 4
      average_hourly_rate: 150
      automation_rate: 0.95
      annual_savings: 22800  # 40 × 4 × 150 × 0.95
      
    incident_response:
      manual_mttr_hours: 4.5
      mesh_os_mttr_hours: 0.07  # 4.2 minutes
      incidents_per_month: 35
      average_hourly_rate: 125
      monthly_savings: 19406  # (4.5 - 0.07) × 35 × 125
      
    policy_management:
      manual_hours_per_week: 15
      automation_rate: 0.70
      average_hourly_rate: 135
      annual_savings: 73710  # 15 × 52 × 0.70 × 135
      
  total_annual_savings:
    compute: 240000  # varies by workload
    operational: 115916  # audit + incident + policy
    risk_avoidance: 180000  # varies by incidents prevented
    total: 535916

# ==============================================================================
# COMPLIANCE UPTIME SLA
# ==============================================================================

compliance_uptime:
  description: "Percentage of time Trust Score ≥ threshold"
  target_sla: 0.95  # 95% uptime
  calculation: "minutes_above_threshold / total_minutes"
  
  thresholds:
    production: 80  # Trust Score ≥ 80 for production environments
    staging: 70
    development: 60
    
  downtime_classification:
    planned_maintenance: "excluded from SLA"
    incident_remediation: "included (should be < 5 minutes)"
    external_dependency_failure: "partial credit (50% SLA impact)"
    
  sla_credits:
    95_to_99_percent: 0  # no credit
    90_to_95_percent: 0.10  # 10% monthly fee credit
    85_to_90_percent: 0.25  # 25% credit
    below_85_percent: 0.50  # 50% credit

# ==============================================================================
# FALSE-POSITIVE DRIFT RATE
# ==============================================================================

false_positive_rate:
  description: "Percentage of drift alerts that are false alarms"
  target: 0.02  # < 2%
  calculation: "false_positive_alerts / total_alerts"
  
  validation_criteria:
    - alert_requires_action: true
    - confirmed_by_secondary_validation: true
    - not_resolved_by_context_update: true
    
  alert_categories:
    true_positive: "genuine policy violation requiring remediation"
    false_positive: "alert triggered incorrectly, no actual violation"
    benign_positive: "policy violation but within acceptable risk tolerance"
    
  impact_of_false_positives:
    alert_fatigue_threshold: 0.15  # > 15% FP causes alert fatigue
    investigation_cost_per_alert: 45  # minutes of engineer time
    mesh_os_target: 0.02  # industry best-in-class

# ==============================================================================
# CARBON OFFSET INDEX (COI)
# ==============================================================================

carbon_offset_index:
  description: "CO₂ emissions avoided through carbon-aware workload optimization"
  formula: "optimized_compute_hours × regional_co2_factor"
  unit: "metric tons CO₂e"
  calculation_period: "monthly"
  
  regional_carbon_intensity:
    # grams CO₂ per kWh (2024 averages)
    us-east-1: 385  # Virginia (mixed grid)
    us-west-2: 95   # Oregon (hydro-heavy)
    eu-west-1: 295  # Ireland (wind + gas)
    eu-north-1: 25  # Sweden (hydro + nuclear)
    ap-southeast-1: 595  # Singapore (gas + solar)
    
  compute_power_consumption:
    gpu_a100: 400  # watts
    gpu_h100: 700
    cpu_general: 150
    
  optimization_impact:
    baseline_emissions_monthly: 12.5  # metric tons CO₂e
    optimized_emissions_monthly: 5.25  # 58% reduction
    offset_value: 7.25  # metric tons CO₂e saved
    carbon_credit_value: 30  # USD per metric ton
    monetary_value: 217.50  # USD/month

# ==============================================================================
# INCIDENT SELF-RESOLUTION RATE
# ==============================================================================

autonomous_healing_rate:
  description: "Percentage of incidents resolved without human intervention"
  target: 0.80  # 80% autonomous resolution
  calculation: "auto_resolved_incidents / total_incidents"
  
  incident_types:
    policy_violation:
      auto_resolution_rate: 0.85
      methods: [policy_rollback, permission_revocation, workload_isolation]
      
    drift_detection:
      auto_resolution_rate: 0.92
      methods: [config_revert, template_reapply, state_reconciliation]
      
    security_anomaly:
      auto_resolution_rate: 0.65
      methods: [credential_rotation, network_isolation, session_termination]
      
    performance_degradation:
      auto_resolution_rate: 0.78
      methods: [resource_scaling, traffic_rerouting, cache_invalidation]
      
  escalation_criteria:
    - severity: "critical"
      auto_resolve: false
      human_review: true
    - confidence_score: "< 0.80"
      auto_resolve: false
      human_approval_required: true
    - blast_radius: "multi_region"
      auto_resolve: false
      runbook_execution_only: true

# ==============================================================================
# MEAN TIME TO RESOLUTION (MTTR)
# ==============================================================================

mttr_metrics:
  description: "Average time from incident detection to resolution"
  mesh_os_target: 4.2  # minutes
  industry_baseline: 240  # 4 hours
  improvement_factor: 57  # 57x faster
  
  breakdown:
    detection_time: 0.5  # minutes (real-time telemetry)
    diagnosis_time: 1.2  # minutes (AI root cause analysis)
    remediation_time: 2.0  # minutes (autonomous execution)
    verification_time: 0.5  # minutes (trust score re-check)
    
  by_severity:
    critical: 2.8  # immediate escalation path
    high: 4.2
    medium: 6.5
    low: 15.0  # batched resolution

# ==============================================================================
# CUSTOMER SUCCESS METRICS
# ==============================================================================

customer_health_kpis:
  adoption_score:
    target: 80
    calculation: "(active_agents / total_agents) × (policies_enforced / policies_defined) × 100"
    healthy_threshold: 75
    at_risk_threshold: 50
    
  sla_breach_tolerance:
    target: 2  # max 2 breaches per quarter
    severity_weights:
      critical: 3
      high: 1
      medium: 0.5
      
  net_promoter_score:
    target: 70
    calculation: "promoters - detractors"
    survey_frequency: "quarterly"
    
  feature_adoption:
    autonomous_healing: 0.85
    cost_optimization: 0.92
    carbon_tracking: 0.68
    federated_policies: 0.75

# ==============================================================================
# PARTNER SUCCESS METRICS
# ==============================================================================

partner_kpis:
  certification_completion:
    target: 0.90  # 90% of partners certified within 60 days
    
  customer_satisfaction:
    target: 4.5  # out of 5
    
  revenue_contribution:
    target_annual_growth: 1.40  # 40% YoY growth
    
  support_quality:
    first_response_time: 4  # hours
    resolution_time: 24  # hours

# ==============================================================================
# REVENUE METRICS
# ==============================================================================

revenue_kpis:
  annual_recurring_revenue:
    target_growth: 2.5  # 2.5x YoY
    
  customer_acquisition_cost:
    target: 15000  # per enterprise customer
    payback_period: 6  # months
    
  customer_lifetime_value:
    target: 180000  # 3-year average
    calculation: "annual_contract_value × retention_rate × avg_customer_lifespan"
    
  net_revenue_retention:
    target: 1.25  # 125% (includes expansion)
    
  expansion_revenue:
    target_percent: 0.35  # 35% of revenue from existing customers

# ==============================================================================
# VISUALIZATION EXPORT
# ==============================================================================

dashboard_exports:
  formats: [csv, json, prometheus]
  
  executive_summary:
    metrics:
      - trust_score
      - risk_avoidance_value
      - cost_savings_total
      - compliance_uptime
      - autonomous_healing_rate
    frequency: "daily"
    
  operational_dashboard:
    metrics:
      - mttr
      - false_positive_rate
      - incident_count_by_severity
      - policy_adherence
    frequency: "real-time (30s)"
    
  financial_report:
    metrics:
      - revenue_forecast
      - customer_acquisition_cost
      - lifetime_value
      - expansion_revenue
    frequency: "monthly"
